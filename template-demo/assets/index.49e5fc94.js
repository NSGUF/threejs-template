import{I as t,B as e,P as i,A as n,a as r,b as s,S as a,c as o,d as h,e as d,W as c}from"./three.module.18d565c0.js";import{V as p,R as l,C as m}from"./vendor.63663422.js";import{g as u,a as w,b as f,c as y,d as b,e as P,f as z,h as g,i as v}from"./three_geometry.71b4f52c.js";import{n as R}from"./index.553d5c6b.js";function M(t,e=0){const i=2e-4*Date.now();t.position.x=320*Math.cos(i+e),t.position.z=320*Math.sin(i+e),t.position.y=-160*Math.sin(i+e)}var O=Object.defineProperty,x=Object.getOwnPropertyDescriptor,A=(t,e,i,n)=>{for(var r,s=n>1?void 0:n?x(e,i):e,a=t.length-1;a>=0;a--)(r=t[a])&&(s=(n?r(e,i,s):r(s))||s);return n&&s&&O(e,i,s),s};let j=class extends p{constructor(){super(...arguments),this.count=0}mounted(){this.init([this.center=this.initCenter(),this.obstacle=this.initObstacleRemoval(),this.safe=this.initSafe(),this.optimization=this.initOptimization(),this.initPointRainy]),this.animate()}initCenter(){return u(7945669,150,60)}initPointRainy(){return this.pointRainy=function(){let a=t.loadTexture("./assets/raindrop-3.0e85d730.png"),o=new e;const h=new Float32Array(1500);let d=new i({size:20,transparent:!0,opacity:.6,map:a,blending:n,sizeAttenuation:!0,color:16777215}),c=1e3;for(let t=0;t<1500;t++)h[t]=Math.random()*c-500,h[t+1]=Math.random()*c*1.5,h[t+2]=Math.random()*c-500;o.setAttribute("position",new r(h,3));let p=new s(o,d);return p.sortParticles=!0,p.rotateZ(Math.PI),p.rotateY(Math.PI),p}()}init(t){let e=window.innerWidth/window.innerHeight,i=this.container;this.scene=new a,t.forEach((t=>{"function"==typeof t?this.scene.add(t()):this.scene.add(t)})),this.camera=new o(60,e,1,1e4),this.camera.position.set(600,0,1e3),this.camera.lookAt(this.scene.position);let n=new h(16777215);this.scene.add(n);const r=new d(1e3);this.scene.add(r),this.renderer=new c({antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor(329011,1),i.appendChild(this.renderer.domElement),i.style.touchAction="none",window.addEventListener("resize",this.onWindowResize)}initObstacleRemoval(){return w([u(10374240,60,10),this.rotateGroupObs=w([f(10374240,30),f(10374240,15),u(10374240,30)]),y(10374240)],0,0,420)}initSafe(){return w([b(7945501),this.rotateGroupSafe=w([P(7945501,30),P(7945501,15),z(10374240,30)]),y(7945501)],420,0,0)}initOptimization(){return w([b(2176131),this.rotateGroupOptimization=w([g(2176131,30),g(2176131,15),v(10374240,30)]),y(2176131)],0,420,0)}onWindowResize(){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight)}renderPointRainy(){!function(t){let e=t.geometry.attributes.position.array;for(let i=1;i<e.length;i+=3)e[i]=e[i]-.1,e[i]<=0&&(e[i]=60);t.geometry.attributes.position.needsUpdate=!0}(this.pointRainy)}renderTip(){var t;M(this.obstacle),M(this.safe,2/3*Math.PI),M(this.optimization,4/3*Math.PI),(t=[this.rotateGroupObs,this.rotateGroupSafe,this.rotateGroupOptimization])instanceof Array?t.forEach((t=>t.rotateY(.01))):t.rotateY(.01)}animate(){this.renderPointRainy(),this.renderTip(),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)}};A([l()],j.prototype,"container",2),j=A([m],j);const C={};var S=R(j,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"container",staticClass:"index"})}),[],!1,W,null,null,null);function W(t){for(let e in C)this[e]=C[e]}var G=function(){return S.exports}();export{G as default};
