import{p as e,Y as t,Z as n}from"./three.module.18d565c0.js";class r extends n{constructor(e=document.createElement("div")){super(),this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.addEventListener("removed",(function(){this.traverse((function(e){e.element instanceof Element&&null!==e.element.parentNode&&e.element.parentNode.removeChild(e.element)}))}))}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this}}r.prototype.isCSS2DObject=!0;const o=new e,s=new t,i=new t,a=new e,l=new e;class d{constructor(e={}){const t=this;let n,r,d,c;const m={objects:new WeakMap},u=void 0!==e.element?e.element:document.createElement("div");function p(e,n,r){if(e.isCSS2DObject){o.setFromMatrixPosition(e.matrixWorld),o.applyMatrix4(i);const s=!0===e.visible&&o.z>=-1&&o.z<=1&&!0===e.layers.test(r.layers);if(e.element.style.display=!0===s?"":"none",!0===s){e.onBeforeRender(t,n,r);const s=e.element;/apple/i.test(navigator.vendor)?s.style.transform="translate(-50%,-50%) translate("+Math.round(o.x*d+d)+"px,"+Math.round(-o.y*c+c)+"px)":s.style.transform="translate(-50%,-50%) translate("+(o.x*d+d)+"px,"+(-o.y*c+c)+"px)",s.parentNode!==u&&u.appendChild(s),e.onAfterRender(t,n,r)}const a={distanceToCameraSquared:h(r,e)};m.objects.set(e,a)}for(let t=0,o=e.children.length;t<o;t++)p(e.children[t],n,r)}function h(e,t){return a.setFromMatrixPosition(e.matrixWorld),l.setFromMatrixPosition(t.matrixWorld),a.distanceToSquared(l)}u.style.overflow="hidden",this.domElement=u,this.getSize=function(){return{width:n,height:r}},this.render=function(e,t){!0===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),s.copy(t.matrixWorldInverse),i.multiplyMatrices(t.projectionMatrix,s),p(e,e,t),function(e){const t=function(e){const t=[];return e.traverse((function(e){e.isCSS2DObject&&t.push(e)})),t}(e).sort((function(e,t){if(e.renderOrder!==t.renderOrder)return t.renderOrder-e.renderOrder;return m.objects.get(e).distanceToCameraSquared-m.objects.get(t).distanceToCameraSquared})),n=t.length;for(let r=0,o=t.length;r<o;r++)t[r].element.style.zIndex=n-r}(e)},this.setSize=function(e,t){n=e,r=t,d=n/2,c=r/2,u.style.width=e+"px",u.style.height=t+"px"}}}export{d as C,r as a};
