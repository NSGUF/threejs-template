import{d as e,o as i,f as I}from"./vendor.63663422.js";import{p as s,S as n,l as t,q as o,W as l,v as a,G as r,g as w,u as C,B as m,L as j,t as d,C as c,M as u,y as L,F as M,H as p,i as J,r as O,s as y,w as S,x as b}from"./three.module.18d565c0.js";import{O as f}from"./OrbitControls.374a84f0.js";import{C as A,a as E}from"./CSS2DRenderer.c32b751a.js";import{l as h,L as g}from"./LottieLoader.e332ea12.js";import{n as X}from"./index.553d5c6b.js";const v=600,x=600;let z,N,W=[],Y=null;const k="DK",D="DC";function Z(e,i){const I=new s(0,45,0),a=new n;(new t).load("./assets/bg.3a47d354.png",(e=>{a.background=e}));let r=function(e){let i=$(e);if(i<8)return 6;return{8:4.5,10:3}[i]}(i.length);const w=new o(v/-r,v/r,x/r,x/-r,1,5e3);w.position.set(900,600,900),w.lookAt(I),w.layers.enableAll(),w.layers.toggle(1);const C=new l({antialias:!0,alpha:!0,precision:"highp"});C.setClearAlpha(0),C.setPixelRatio(window.devicePixelRatio),e.appendChild(C.domElement);let m,j=new A;return j.domElement.style.position="absolute",j.domElement.style.top="0px",e.appendChild(j.domElement),_(C,j),e.style.touchAction="none",m=new f(w,j.domElement),m.maxPolarAngle=Math.PI/2,m.minPolarAngle=Math.PI/3,m.target=I,m.update(),{camera:w,scene:a,renderer:C,labelRenderer:j,controls:m,stats:undefined,gui:undefined}}function F(e,i,I){return{x:e,y:i,z:I}}function R(e=0,i=0,I=0,s,n){let{x:t=0,y:o=0,z:l=0}=s,a=n||B(),r=new S(e,i,I),w=new u(r,a);return w.position.set(t,o,l),w}function Q(e){return 0===e.status}function B(){return new C({color:2377082,roughness:1,metalness:0})}function T(e){let i=e.used/e.total,I=function(e){let i;0===e?i=8556981:e<.5?i=195151:e<.8?i=16768078:e<=1&&(i=16729345);return i}(i);const n=new r,o=35,l=30,a=100;let c=new r;c.position.set(0,0,0);let L=new r,M=R(o,2,l,F(0,1,0));L.add(M);let p=new w({map:(new t).load("./assets/back.4d68f3bd.png"),color:7376050,roughness:1,metalness:.2}),J=new C({map:(new t).load("./assets/top.d9cd283e.png"),roughness:1,metalness:.2,color:9138031,emissive:3487301}),S=R(2,a,l,F(16.5,52,0),p),b=R(2,a,l,F(-16.5,52,0),p),f=R(31,a,2,F(0,52,-14),p),A=new r,X=R(37,4,l,F(0,103,0)),v=B(),x=R(38,2,32,F(0,106,0),[v,v,J,v,v,v]),z=function(e){const i=document.createElement("div");i.className="rack-label "+(Q(e)?"rack-label__error":""),i.textContent=e.name;const I=document.createElement("div");return I.className="rack-label-triangle "+(Q(e)?"rack-label-triangle__error":""),i.appendChild(I),i.style.marginTop="-1em",new E(i)}(e);x.add(z);const N=new C({color:I}),W=R(8,1.5,2,F(0,103,15.2),N),Y=[];Y.push(new s(-18.5,105,16)),Y.push(new s(18.5,105,16));const Z=(new m).setFromPoints(Y),T=new j({color:2568786}),P=new d(Z,T);return A.add(X,x,W,P),c.add(L,S,b,f,A),n.add(c),function(e){const i=[];let I=Math.round(13*e);const s=0,n=0,t=0;let o=7;for(let l=0;l<13;l++){let e=new r;e.position.set(s,n,t);const{serverBody:a,serverPanel:w}=G(o,l);if(l<I){const i=H(o-1.5,l),I=H(o+1.5,l),s=U(o);e.add(i,I,s)}o+=7.4,e.add(a,w),e.name="serverGroup"+l,i.push(e)}return{obj:i}}(i).obj.forEach((e=>n.add(e))),Q(e)&&n.add(function(){const e=110,i=39,I=34;let s=new r,n=new C({transparent:!0,opacity:.15,color:16670465}),t=R(i,e,I,F(0,e/2,0),n);return function(e){let i;window.bodymovin=h,(new g).load("data:application/json;base64,eyJ2IjoiNS45LjIiLCJmciI6MzAsImlwIjowLCJvcCI6OTAsInciOjEwMCwiaCI6MTAwLCJubSI6IuWQiOaIkCAxIiwiZGRkIjowLCJhc3NldHMiOltdLCJsYXllcnMiOlt7ImRkZCI6MCwiaW5kIjoxLCJ0eSI6NCwibm0iOiLlvaLnirblm77lsYIgMyIsInNyIjoxLCJrcyI6eyJvIjp7ImEiOjEsImsiOlt7ImkiOnsieCI6WzAuNF0sInkiOlsxXX0sIm8iOnsieCI6WzAuMTY3XSwieSI6WzBdfSwidCI6NDMsInMiOlsyMF19LHsidCI6NzIsInMiOlswXX1dLCJpeCI6MTF9LCJyIjp7ImEiOjAsImsiOjAsIml4IjoxMH0sInAiOnsiYSI6MCwiayI6WzUwLDUwLDBdLCJpeCI6MiwibCI6Mn0sImEiOnsiYSI6MCwiayI6Wy0wLjQ0MSwtMC45NDEsMF0sIml4IjoxLCJsIjoyfSwicyI6eyJhIjoxLCJrIjpbeyJpIjp7IngiOlswLjQsMC40LDAuNF0sInkiOlsxLDEsMV19LCJvIjp7IngiOlswLjYsMC42LDAuNl0sInkiOlswLDAsMF19LCJ0IjoxMiwicyI6WzAsMCwxMDBdfSx7InQiOjcyLCJzIjpbNDcsNDcsMTAwXX1dLCJpeCI6NiwibCI6Mn19LCJhbyI6MCwic2hhcGVzIjpbeyJ0eSI6ImdyIiwiaXQiOlt7ImQiOjEsInR5IjoiZWwiLCJzIjp7ImEiOjAsImsiOlsxOTQuMTE3LDE5NC4xMTddLCJpeCI6Mn0sInAiOnsiYSI6MCwiayI6WzAsMF0sIml4IjozfSwibm0iOiLmpK3lnIbot6/lvoQgMSIsIm1uIjoiQURCRSBWZWN0b3IgU2hhcGUgLSBFbGxpcHNlIiwiaGQiOmZhbHNlfSx7InR5IjoidHIiLCJwIjp7ImEiOjAsImsiOlstMC40NDEsLTAuOTQxXSwiaXgiOjJ9LCJhIjp7ImEiOjAsImsiOlswLDBdLCJpeCI6MX0sInMiOnsiYSI6MCwiayI6WzEwMCwxMDBdLCJpeCI6M30sInIiOnsiYSI6MCwiayI6MCwiaXgiOjZ9LCJvIjp7ImEiOjAsImsiOjEwMCwiaXgiOjd9LCJzayI6eyJhIjowLCJrIjowLCJpeCI6NH0sInNhIjp7ImEiOjAsImsiOjAsIml4Ijo1fSwibm0iOiLlj5jmjaIifV0sIm5tIjoi5qSt5ZyGIDEiLCJucCI6MiwiY2l4IjoyLCJibSI6MCwiaXgiOjEsIm1uIjoiQURCRSBWZWN0b3IgR3JvdXAiLCJoZCI6ZmFsc2V9LHsidHkiOiJmbCIsImMiOnsiYSI6MCwiayI6WzEsMCwwLDFdLCJpeCI6NH0sIm8iOnsiYSI6MCwiayI6MTAwLCJpeCI6NX0sInIiOjEsImJtIjowLCJubSI6IuWhq+WFhSAxIiwibW4iOiJBREJFIFZlY3RvciBHcmFwaGljIC0gRmlsbCIsImhkIjpmYWxzZX1dLCJpcCI6MTIsIm9wIjo5MCwic3QiOjEyLCJibSI6MH0seyJkZGQiOjAsImluZCI6MiwidHkiOjQsIm5tIjoi5b2i54q25Zu+5bGCIDIiLCJzciI6MSwia3MiOnsibyI6eyJhIjoxLCJrIjpbeyJpIjp7IngiOlswLjRdLCJ5IjpbMV19LCJvIjp7IngiOlswLjZdLCJ5IjpbMF19LCJ0IjozMSwicyI6WzIwXX0seyJ0Ijo2MCwicyI6WzBdfV0sIml4IjoxMX0sInIiOnsiYSI6MCwiayI6MCwiaXgiOjEwfSwicCI6eyJhIjowLCJrIjpbNTAsNTAsMF0sIml4IjoyLCJsIjoyfSwiYSI6eyJhIjowLCJrIjpbLTAuNDQxLC0wLjk0MSwwXSwiaXgiOjEsImwiOjJ9LCJzIjp7ImEiOjEsImsiOlt7ImkiOnsieCI6WzAuNCwwLjQsMC40XSwieSI6WzEsMSwxXX0sIm8iOnsieCI6WzAuNiwwLjYsMC42XSwieSI6WzAsMCwwXX0sInQiOjAsInMiOlswLDAsMTAwXX0seyJ0Ijo2MCwicyI6WzQ3LDQ3LDEwMF19XSwiaXgiOjYsImwiOjJ9fSwiYW8iOjAsInNoYXBlcyI6W3sidHkiOiJnciIsIml0IjpbeyJkIjoxLCJ0eSI6ImVsIiwicyI6eyJhIjowLCJrIjpbMTk0LjExNywxOTQuMTE3XSwiaXgiOjJ9LCJwIjp7ImEiOjAsImsiOlswLDBdLCJpeCI6M30sIm5tIjoi5qSt5ZyG6Lev5b6EIDEiLCJtbiI6IkFEQkUgVmVjdG9yIFNoYXBlIC0gRWxsaXBzZSIsImhkIjpmYWxzZX0seyJ0eSI6InRyIiwicCI6eyJhIjowLCJrIjpbLTAuNDQxLC0wLjk0MV0sIml4IjoyfSwiYSI6eyJhIjowLCJrIjpbMCwwXSwiaXgiOjF9LCJzIjp7ImEiOjAsImsiOlsxMDAsMTAwXSwiaXgiOjN9LCJyIjp7ImEiOjAsImsiOjAsIml4Ijo2fSwibyI6eyJhIjowLCJrIjoxMDAsIml4Ijo3fSwic2siOnsiYSI6MCwiayI6MCwiaXgiOjR9LCJzYSI6eyJhIjowLCJrIjowLCJpeCI6NX0sIm5tIjoi5Y+Y5o2iIn1dLCJubSI6IuakreWchiAxIiwibnAiOjIsImNpeCI6MiwiYm0iOjAsIml4IjoxLCJtbiI6IkFEQkUgVmVjdG9yIEdyb3VwIiwiaGQiOmZhbHNlfSx7InR5IjoiZmwiLCJjIjp7ImEiOjAsImsiOlsxLDAsMCwxXSwiaXgiOjR9LCJvIjp7ImEiOjAsImsiOjEwMCwiaXgiOjV9LCJyIjoxLCJibSI6MCwibm0iOiLloavlhYUgMSIsIm1uIjoiQURCRSBWZWN0b3IgR3JhcGhpYyAtIEZpbGwiLCJoZCI6ZmFsc2V9XSwiaXAiOjAsIm9wIjo5MCwic3QiOjAsImJtIjowfSx7ImRkZCI6MCwiaW5kIjozLCJ0eSI6NCwibm0iOiLlvaLnirblm77lsYIgMSIsInNyIjoxLCJrcyI6eyJvIjp7ImEiOjAsImsiOjEwMCwiaXgiOjExfSwiciI6eyJhIjowLCJrIjowLCJpeCI6MTB9LCJwIjp7ImEiOjAsImsiOls1MCw1MCwwXSwiaXgiOjIsImwiOjJ9LCJhIjp7ImEiOjAsImsiOlstMC40NDEsLTAuOTQxLDBdLCJpeCI6MSwibCI6Mn0sInMiOnsiYSI6MCwiayI6WzQ4LDQ4LDEwMF0sIml4Ijo2LCJsIjoyfX0sImFvIjowLCJzaGFwZXMiOlt7InR5IjoiZ3IiLCJpdCI6W3siZCI6MSwidHkiOiJlbCIsInMiOnsiYSI6MCwiayI6WzE5NC4xMTcsMTk0LjExN10sIml4IjoyfSwicCI6eyJhIjowLCJrIjpbMCwwXSwiaXgiOjN9LCJubSI6IuakreWchui3r+W+hCAxIiwibW4iOiJBREJFIFZlY3RvciBTaGFwZSAtIEVsbGlwc2UiLCJoZCI6ZmFsc2V9LHsidHkiOiJzdCIsImMiOnsiYSI6MCwiayI6WzEsMC40Mzk3ODI1MDU0MDksMC40Mzk3ODI1MDU0MDksMV0sIml4IjozfSwibyI6eyJhIjowLCJrIjo1MywiaXgiOjR9LCJ3Ijp7ImEiOjAsImsiOjEsIml4Ijo1fSwibGMiOjEsImxqIjoxLCJtbCI6NCwiYm0iOjAsIm5tIjoi5o+P6L65IDIiLCJtbiI6IkFEQkUgVmVjdG9yIEdyYXBoaWMgLSBTdHJva2UiLCJoZCI6ZmFsc2V9LHsidHkiOiJ0ciIsInAiOnsiYSI6MCwiayI6Wy0wLjQ0MSwtMC45NDFdLCJpeCI6Mn0sImEiOnsiYSI6MCwiayI6WzAsMF0sIml4IjoxfSwicyI6eyJhIjowLCJrIjpbMTAwLDEwMF0sIml4IjozfSwiciI6eyJhIjowLCJrIjowLCJpeCI6Nn0sIm8iOnsiYSI6MCwiayI6MTAwLCJpeCI6N30sInNrIjp7ImEiOjAsImsiOjAsIml4Ijo0fSwic2EiOnsiYSI6MCwiayI6MCwiaXgiOjV9LCJubSI6IuWPmOaNoiJ9XSwibm0iOiLmpK3lnIYgMSIsIm5wIjoyLCJjaXgiOjIsImJtIjowLCJpeCI6MSwibW4iOiJBREJFIFZlY3RvciBHcm91cCIsImhkIjpmYWxzZX0seyJ0eSI6ImZsIiwiYyI6eyJhIjowLCJrIjpbMSwwLDAsMV0sIml4Ijo0fSwibyI6eyJhIjowLCJrIjozMCwiaXgiOjV9LCJyIjoxLCJibSI6MCwibm0iOiLloavlhYUgMSIsIm1uIjoiQURCRSBWZWN0b3IgR3JhcGhpYyAtIEZpbGwiLCJoZCI6ZmFsc2V9XSwiaXAiOjAsIm9wIjo5MCwic3QiOjAsImJtIjowfV0sIm1hcmtlcnMiOltdfQ==",(I=>{const s=16001307;I.animation.play();const n=new O(45,110,1,50),t=new y({transparent:!0,opacity:.45,color:s,emissive:s,depthWrite:!1,map:I});i=new u(n,t),n.rotateX(-Math.PI/2),n.translate(0,.15,0),e.add(i)}))}(s),s.add(t),s.add(function(e,i,I,s){let n=new r,t=V(e,e,s,F(-i/2,s/2,-I/2)),o=V(e,e,s,F(i/2,s/2,-I/2)),l=V(e,e,s,F(-i/2,s/2,I/2)),a=V(e,e,s,F(i/2,s/2,I/2)),w=V(e,e,i,F(0,s,-I/2),null,k),C=V(e,e,i,F(0,s,I/2),null,k),m=V(e,e,i,F(0,0,-I/2),null,k),j=V(e,e,i,F(0,0,I/2),null,k),d=V(e,e,I,F(-i/2,s,0),null,D),c=V(e,e,I,F(i/2,s,0),null,D),u=V(e,e,I,F(-i/2,0,0),null,D),L=V(e,e,I,F(i/2,0,0),null,D);return n.add(t,o,l,a,w,C,m,j,d,c,u,L),n.position.y=1,n}(.5,i,I,e)),s}()),{obj:n}}function V(e=3,i=3,I=10,s,n,t){let{x:o=0,y:l=0,z:a=0}=s,r=n||new C({color:16670465}),w=new c(e,i,I,48),m=new u(w,r);return m.position.set(o,l,a),t===k?m.rotateZ(Math.PI/2):t===D&&m.rotateX(Math.PI/2),m}function G(e,i){let I=new S(31,7,26),s=new b({color:789516,emissive:789516}),n=new u(I,s);n.position.set(0,e,-1),n.name="server"+i;let o=new L(31,7),l=new u(o,new w({map:(new t).load("./assets/server.71204b09.png")}));return l.name="server"+i,l.position.set(0,e,12.1),{serverBody:n,serverPanel:l}}function H(e,i){let I=new L(2,2);const s=new w({color:65346,side:J}),n=new u(I,s);return n.position.set(-14,e,12.2),n.name="server"+i,n}function U(e){const i=new L(24,3.5).getAttribute("position"),I=new m,s=i.array;let n=[0,247/255,1],t=[2/255,90/255,180/255];const o=[...n,...t,...n,...t];I.setIndex([1,0,3,0,2,3]),I.setAttribute("position",new M(s,3)),I.setAttribute("normal",new M([0,0,1,0,0,1,0,0,1,0,0,1],3)),I.setAttribute("color",new M(o,3));const l=new p({side:J,vertexColors:!0});let a=new u(I,l);return a.position.set(.5,e,12.2),a}function P(){var e,i;null==(e=null==z?void 0:z.controls)||e.update(),null==(i=null==z?void 0:z.stats)||i.update(),null==W||W.forEach((e=>null==e?void 0:e())),Y=requestAnimationFrame(P),z.renderer.render(z.scene,z.camera),z.labelRenderer.render(z.scene,z.camera)}function _(e,i){e.setSize(600,600),i.setSize(600,600)}function q(e,i,I={},s=1){let{x:n=0,y:t=.1,z:o=0}=I,l=new w({color:3845631,transparent:!0,opacity:s}),a=new L(e,i),r=new u(a,l);return r.position.set(n,t,o),r.rotateX(-Math.PI/2),r}function K(e){let i=40*e+4,I=new r;return[[2,1],[13,.6],[20,.3]].forEach((([e,s])=>{let n=new r,t=4*s;n.add(q(i+e,t,F(0,.1,(30+t+e)/2),s)),n.add(q(i+e,t,F(0,.1,-(30+t+e)/2),s)),n.add(q(t,30+e,F(-(i-t+e)/2,.1,0),s)),n.add(q(t,30+e,F((i-t+e)/2,.1,0),s)),I.add(n)})),I}function $(e){let i;return i=e<=8?e:e<=49?8:10,i}function ee(){z&&(z.camera.aspect=1,z.camera.updateProjectionMatrix(),_(z.renderer,z.labelRenderer))}function ie({el:e,serverList:i}){return z=Z(e,i),function(){let e=new a(16777215,1.4);e.position.set(0,-80,300),e.castShadow=!0,z.scene.add(e);let i=new a(16777215,2.6);i.position.set(-50,-80,-40),i.castShadow=!0,z.scene.add(i);let I=new a(16777215,2.8);I.position.set(100,180,-20),I.castShadow=!0,z.scene.add(I)}(),function(e){N&&z.scene.remove(N),N=new r;let i=new r,I=new r,s=e.length||0,n=$(s),t=Math.ceil(s/n);for(let l=0;l<t;l++){let s=0;for(s=0;s<n;s++){let I=e[l*n+s];if(!I)break;let t=T(I).obj;t.position.x=40*s,t.position.z=-90*l,i.add(t)}let t=K(s||0);t.position.z=-90*l,s<n&&(t.position.x=-(35*(n-s)+5*(n-s))/2),I.add(t)}i.position.x=-(35*n+5*(n-1))/2+17.5;let o=90*(t-1)/2;i.position.z=o,I.position.z=o,N.add(I,i),z.scene.add(N)}(i),P(),window.addEventListener("resize",ee),z}var Ie=e({name:"CabinetContent",props:{server:{type:Array,default:()=>[{name:"test",used:12,total:13,status:0},{name:"test",used:7,total:13,status:0},{name:"test",used:12,total:13,status:0}]},currentAz:{type:Object,default:()=>({})},location:{typr:String,default:""},showAnimation:{type:Boolean,default:!1},delay:{type:Number,default:0}},setup(e){let s=null;return i((()=>{!function(){var i;let I=document.getElementById("container");!s&&I&&(null==(i=e.server)?void 0:i.length)&&(s=ie({el:document.getElementById("container"),serverList:e.server}))}()})),I((()=>{!function(){var e,i,I,s,n,t;z&&(N=null,(e=z)&&(null==(I=null==(i=e.renderer)?void 0:i.domElement)||I.remove(),null==(s=e.stats)||s.domElement.remove(),null==(n=e.gui)||n.domElement.remove(),null==(t=e.scene)||t.traverse((e=>{var i,I,s,n;e.material&&(null==(I=null==(i=e.material)?void 0:i.dispose)||I.call(i)),e.geometry&&(null==(n=null==(s=e.geometry)?void 0:s.dispose)||n.call(s))})),e.renderer.forceContextLoss(),e.renderer.dispose(),e.scene.clear(),e.scene=null,e.camera=null,e.controls=null,e.renderer.domElement=null,e.renderer=null),z=null,window.removeEventListener("resize",ee),Y&&(cancelAnimationFrame(Y),Y=null))}(),s=null})),{}}});const se={};var ne=X(Ie,(function(){var e=this;e.$createElement;return e._self._c,e._m(0)}),[function(){var e=this.$createElement,i=this._self._c||e;return i("div",{staticClass:"bg"},[i("div",{attrs:{id:"container"}})])}],!1,te,null,null,null);function te(e){for(let i in se)this[i]=se[i]}var oe=function(){return ne.exports}();export{oe as default};
