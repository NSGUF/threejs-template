class n{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const e=t[r],o=n+e,u=Math.abs(n)<Math.abs(e)?n-(o-e):e-(o-n);u&&(t[i++]=u),n=o}return t[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let t,i,r,e=this._n,o=0;if(e>0){for(o=n[--e];e>0&&(t=o,i=n[--e],o=t+i,r=i-(o-t),!r););e>0&&(r<0&&n[e-1]<0||r>0&&n[e-1]>0)&&(i=2*r,t=o+i,i==t-o&&(o=t))}return o}}function t(n){return Array.from(function*(n){for(const t of n)yield*t}(n))}var i=1e-6,r=Math.PI,e=r/2,o=r/4,u=2*r,l=180/r,f=r/180,a=Math.abs,c=Math.atan,p=Math.atan2,s=Math.cos,h=Math.exp,v=Math.log,g=Math.sin,d=Math.sign||function(n){return n>0?1:n<0?-1:0},y=Math.sqrt,E=Math.tan;function S(n){return n>1?e:n<-1?-e:Math.asin(n)}function m(){}function x(n,t){n&&k.hasOwnProperty(n.type)&&k[n.type](n,t)}var M={Feature:function(n,t){x(n.geometry,t)},FeatureCollection:function(n,t){for(var i=n.features,r=-1,e=i.length;++r<e;)x(i[r].geometry,t)}},k={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)n=i[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){w(n.coordinates,t,0)},MultiLineString:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)w(i[r],t,0)},Polygon:function(n,t){N(n.coordinates,t)},MultiPolygon:function(n,t){for(var i=n.coordinates,r=-1,e=i.length;++r<e;)N(i[r],t)},GeometryCollection:function(n,t){for(var i=n.geometries,r=-1,e=i.length;++r<e;)x(i[r],t)}};function w(n,t,i){var r,e=-1,o=n.length-i;for(t.lineStart();++e<o;)r=n[e],t.point(r[0],r[1],r[2]);t.lineEnd()}function N(n,t){var i=-1,r=n.length;for(t.polygonStart();++i<r;)w(n[i],t,1);t.polygonEnd()}function P(n){return[p(n[1],n[0]),S(n[2])]}function _(n){var t=n[0],i=n[1],r=s(i);return[r*s(t),r*g(t),g(i)]}function z(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function X(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function Y(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function b(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function A(n){var t=y(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function F(n,t){function i(i,r){return i=n(i,r),t(i[0],i[1])}return n.invert&&t.invert&&(i.invert=function(i,r){return(i=t.invert(i,r))&&n.invert(i[0],i[1])}),i}function O(n,t){return a(n)>r&&(n-=Math.round(n/u)*u),[n,t]}function j(n,t,i){return(n%=u)?t||i?F(L(n),q(t,i)):L(n):t||i?q(t,i):O}function C(n){return function(t,i){return a(t+=n)>r&&(t-=Math.round(t/u)*u),[t,i]}}function L(n){var t=C(n);return t.invert=C(-n),t}function q(n,t){var i=s(n),r=g(n),e=s(t),o=g(t);function u(n,t){var u=s(t),l=s(n)*u,f=g(n)*u,a=g(t),c=a*i+l*r;return[p(f*e-c*o,l*i-a*r),S(c*e+f*o)]}return u.invert=function(n,t){var u=s(t),l=s(n)*u,f=g(n)*u,a=g(t),c=a*e-f*o;return[p(f*e+a*o,l*i+c*r),S(c*i-l*r)]},u}function G(n,t){(t=_(t))[0]-=n,A(t);var e,o=(e=-t[1])>1?0:e<-1?r:Math.acos(e);return((-t[2]<0?-o:o)+u-i)%u}function H(){var n,t=[];return{point:function(t,i,r){n.push([t,i,r])},lineStart:function(){t.push(n=[])},lineEnd:m,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var i=t;return t=[],n=null,i}}}function I(n,t){return a(n[0]-t[0])<i&&a(n[1]-t[1])<i}function W(n,t,i,r){this.x=n,this.z=t,this.o=i,this.e=r,this.v=!1,this.n=this.p=null}function B(n,t,i,r,e){var o,u,l=[],f=[];if(n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,i,r=n[0],u=n[t];if(I(r,u)){if(!r[2]&&!u[2]){for(e.lineStart(),o=0;o<t;++o)e.point((r=n[o])[0],r[1]);return void e.lineEnd()}u[0]+=2e-6}l.push(i=new W(r,n,null,!0)),f.push(i.o=new W(r,null,i,!1)),l.push(i=new W(u,n,null,!1)),f.push(i.o=new W(u,null,i,!0))}})),l.length){for(f.sort(t),D(l),D(f),o=0,u=f.length;o<u;++o)f[o].e=i=!i;for(var a,c,p=l[0];;){for(var s=p,h=!0;s.v;)if((s=s.n)===p)return;a=s.z,e.lineStart();do{if(s.v=s.o.v=!0,s.e){if(h)for(o=0,u=a.length;o<u;++o)e.point((c=a[o])[0],c[1]);else r(s.x,s.n.x,1,e);s=s.n}else{if(h)for(a=s.p.z,o=a.length-1;o>=0;--o)e.point((c=a[o])[0],c[1]);else r(s.x,s.p.x,-1,e);s=s.p}a=(s=s.o).z,h=!h}while(!s.v);e.lineEnd()}}}function D(n){if(t=n.length){for(var t,i,r=0,e=n[0];++r<t;)e.n=i=n[r],i.p=e,e=i;e.n=i=n[0],i.p=e}}function J(n){return a(n[0])<=r?n[0]:d(n[0])*((a(n[0])+r)%u-r)}function K(l,f,a,c){return function(h){var v,d,y,E=f(h),m=H(),x=f(m),M=!1,k={point:w,lineStart:P,lineEnd:z,polygonStart:function(){k.point=Y,k.lineStart=b,k.lineEnd=F,d=[],v=[]},polygonEnd:function(){k.point=w,k.lineStart=P,k.lineEnd=z,d=t(d);var l=function(t,l){var f=J(l),a=l[1],c=g(a),h=[g(f),-s(f),0],v=0,d=0,y=new n;1===c?a=e+i:-1===c&&(a=-e-i);for(var E=0,m=t.length;E<m;++E)if(M=(x=t[E]).length)for(var x,M,k=x[M-1],w=J(k),N=k[1]/2+o,P=g(N),z=s(N),Y=0;Y<M;++Y,w=F,P=j,z=C,k=b){var b=x[Y],F=J(b),O=b[1]/2+o,j=g(O),C=s(O),L=F-w,q=L>=0?1:-1,G=q*L,H=G>r,I=P*j;if(y.add(p(I*q*g(G),z*C+I*s(G))),v+=H?L+q*u:L,H^w>=f^F>=f){var W=X(_(k),_(b));A(W);var B=X(h,W);A(B);var D=(H^L>=0?-1:1)*S(B[2]);(a>D||a===D&&(W[0]||W[1]))&&(d+=H^L>=0?1:-1)}}return(v<-i||v<i&&y<-1e-12)^1&d}(v,c);d.length?(M||(h.polygonStart(),M=!0),B(d,R,l,a,h)):l&&(M||(h.polygonStart(),M=!0),h.lineStart(),a(null,null,1,h),h.lineEnd()),M&&(h.polygonEnd(),M=!1),d=v=null},sphere:function(){h.polygonStart(),h.lineStart(),a(null,null,1,h),h.lineEnd(),h.polygonEnd()}};function w(n,t){l(n,t)&&h.point(n,t)}function N(n,t){E.point(n,t)}function P(){k.point=N,E.lineStart()}function z(){k.point=w,E.lineEnd()}function Y(n,t){y.push([n,t]),x.point(n,t)}function b(){x.lineStart(),y=[]}function F(){Y(y[0][0],y[0][1]),x.lineEnd();var n,t,i,r,e=x.clean(),o=m.result(),u=o.length;if(y.pop(),v.push(y),y=null,u)if(1&e){if((t=(i=o[0]).length-1)>0){for(M||(h.polygonStart(),M=!0),h.lineStart(),n=0;n<t;++n)h.point((r=i[n])[0],r[1]);h.lineEnd()}}else u>1&&2&e&&o.push(o.pop().concat(o.shift())),d.push(o.filter(Q))}return k}}function Q(n){return n.length>1}function R(n,t){return((n=n.x)[0]<0?n[1]-e-i:e-n[1])-((t=t.x)[0]<0?t[1]-e-i:e-t[1])}O.invert=O;var T=K((function(){return!0}),(function(n){var t,o=NaN,u=NaN,l=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(f,p){var h=f>0?r:-r,v=a(f-o);a(v-r)<i?(n.point(o,u=(u+p)/2>0?e:-e),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(h,u),n.point(f,u),t=0):l!==h&&v>=r&&(a(o-l)<i&&(o-=l*i),a(f-h)<i&&(f-=h*i),u=function(n,t,r,e){var o,u,l=g(n-r);return a(l)>i?c((g(t)*(u=s(e))*g(r)-g(e)*(o=s(t))*g(n))/(o*u*l)):(t+e)/2}(o,u,f,p),n.point(l,u),n.lineEnd(),n.lineStart(),n.point(h,u),t=0),n.point(o=f,u=p),l=h},lineEnd:function(){n.lineEnd(),o=u=NaN},clean:function(){return 2-t}}}),(function(n,t,o,u){var l;if(null==n)l=o*e,u.point(-r,l),u.point(0,l),u.point(r,l),u.point(r,0),u.point(r,-l),u.point(0,-l),u.point(-r,-l),u.point(-r,0),u.point(-r,l);else if(a(n[0]-t[0])>i){var f=n[0]<t[0]?r:-r;l=o*f/2,u.point(-f,l),u.point(0,l),u.point(f,l)}else u.point(t[0],t[1])}),[-r,-e]);function U(n){var t=s(n),e=6*f,o=t>0,l=a(t)>i;function c(n,i){return s(n)*s(i)>t}function p(n,e,o){var u=[1,0,0],l=X(_(n),_(e)),f=z(l,l),c=l[0],p=f-c*c;if(!p)return!o&&n;var s=t*f/p,h=-t*c/p,v=X(u,l),g=b(u,s);Y(g,b(l,h));var d=v,E=z(g,d),S=z(d,d),m=E*E-S*(z(g,g)-1);if(!(m<0)){var x=y(m),M=b(d,(-E-x)/S);if(Y(M,g),M=P(M),!o)return M;var k,w=n[0],N=e[0],A=n[1],F=e[1];N<w&&(k=w,w=N,N=k);var O=N-w,j=a(O-r)<i;if(!j&&F<A&&(k=A,A=F,F=k),j||O<i?j?A+F>0^M[1]<(a(M[0]-w)<i?A:F):A<=M[1]&&M[1]<=F:O>r^(w<=M[0]&&M[0]<=N)){var C=b(d,(-E+x)/S);return Y(C,g),[M,P(C)]}}}function h(t,i){var e=o?n:r-n,u=0;return t<-e?u|=1:t>e&&(u|=2),i<-e?u|=4:i>e&&(u|=8),u}return K(c,(function(n){var t,i,e,u,f;return{lineStart:function(){u=e=!1,f=1},point:function(a,s){var v,g=[a,s],d=c(a,s),y=o?d?0:h(a,s):d?h(a+(a<0?r:-r),s):0;if(!t&&(u=e=d)&&n.lineStart(),d!==e&&(!(v=p(t,g))||I(t,v)||I(g,v))&&(g[2]=1),d!==e)f=0,d?(n.lineStart(),v=p(g,t),n.point(v[0],v[1])):(v=p(t,g),n.point(v[0],v[1],2),n.lineEnd()),t=v;else if(l&&t&&o^d){var E;y&i||!(E=p(g,t,!0))||(f=0,o?(n.lineStart(),n.point(E[0][0],E[0][1]),n.point(E[1][0],E[1][1]),n.lineEnd()):(n.point(E[1][0],E[1][1]),n.lineEnd(),n.lineStart(),n.point(E[0][0],E[0][1],3)))}!d||t&&I(t,g)||n.point(g[0],g[1]),t=g,e=d,i=y},lineEnd:function(){e&&n.lineEnd(),t=null},clean:function(){return f|(u&&e)<<1}}}),(function(t,i,r,o){!function(n,t,i,r,e,o){if(i){var l=s(t),f=g(t),a=r*i;null==e?(e=t+r*u,o=t-a/2):(e=G(l,e),o=G(l,o),(r>0?e<o:e>o)&&(e+=r*u));for(var c,p=e;r>0?p>o:p<o;p-=a)c=P([l,-f*s(p),-f*g(p)]),n.point(c[0],c[1])}}(o,n,e,r,t,i)}),o?[0,-n]:[-r,n-r])}function V(n,r,e,o){function u(t,i){return n<=t&&t<=e&&r<=i&&i<=o}function l(t,i,u,l){var a=0,c=0;if(null==t||(a=f(t,u))!==(c=f(i,u))||p(t,i)<0^u>0)do{l.point(0===a||3===a?n:e,a>1?o:r)}while((a=(a+u+4)%4)!==c);else l.point(i[0],i[1])}function f(t,o){return a(t[0]-n)<i?o>0?0:3:a(t[0]-e)<i?o>0?2:1:a(t[1]-r)<i?o>0?1:0:o>0?3:2}function c(n,t){return p(n.x,t.x)}function p(n,t){var i=f(n,1),r=f(t,1);return i!==r?i-r:0===i?t[1]-n[1]:1===i?n[0]-t[0]:2===i?n[1]-t[1]:t[0]-n[0]}return function(i){var f,a,p,s,h,v,g,d,y,E,S,m=i,x=H(),M={point:k,lineStart:function(){M.point=w,a&&a.push(p=[]);E=!0,y=!1,g=d=NaN},lineEnd:function(){f&&(w(s,h),v&&y&&x.rejoin(),f.push(x.result()));M.point=k,y&&m.lineEnd()},polygonStart:function(){m=x,f=[],a=[],S=!0},polygonEnd:function(){var r=function(){for(var t=0,i=0,r=a.length;i<r;++i)for(var e,u,l=a[i],f=1,c=l.length,p=l[0],s=p[0],h=p[1];f<c;++f)e=s,u=h,s=(p=l[f])[0],h=p[1],u<=o?h>o&&(s-e)*(o-u)>(h-u)*(n-e)&&++t:h<=o&&(s-e)*(o-u)<(h-u)*(n-e)&&--t;return t}(),e=S&&r,u=(f=t(f)).length;(e||u)&&(i.polygonStart(),e&&(i.lineStart(),l(null,null,1,i),i.lineEnd()),u&&B(f,c,r,l,i),i.polygonEnd());m=i,f=a=p=null}};function k(n,t){u(n,t)&&m.point(n,t)}function w(t,i){var l=u(t,i);if(a&&p.push([t,i]),E)s=t,h=i,v=l,E=!1,l&&(m.lineStart(),m.point(t,i));else if(l&&y)m.point(t,i);else{var f=[g=Math.max(-1e9,Math.min(1e9,g)),d=Math.max(-1e9,Math.min(1e9,d))],c=[t=Math.max(-1e9,Math.min(1e9,t)),i=Math.max(-1e9,Math.min(1e9,i))];!function(n,t,i,r,e,o){var u,l=n[0],f=n[1],a=0,c=1,p=t[0]-l,s=t[1]-f;if(u=i-l,p||!(u>0)){if(u/=p,p<0){if(u<a)return;u<c&&(c=u)}else if(p>0){if(u>c)return;u>a&&(a=u)}if(u=e-l,p||!(u<0)){if(u/=p,p<0){if(u>c)return;u>a&&(a=u)}else if(p>0){if(u<a)return;u<c&&(c=u)}if(u=r-f,s||!(u>0)){if(u/=s,s<0){if(u<a)return;u<c&&(c=u)}else if(s>0){if(u>c)return;u>a&&(a=u)}if(u=o-f,s||!(u<0)){if(u/=s,s<0){if(u>c)return;u>a&&(a=u)}else if(s>0){if(u<a)return;u<c&&(c=u)}return a>0&&(n[0]=l+a*p,n[1]=f+a*s),c<1&&(t[0]=l+c*p,t[1]=f+c*s),!0}}}}}(f,c,n,r,e,o)?l&&(m.lineStart(),m.point(t,i),S=!1):(y||(m.lineStart(),m.point(f[0],f[1])),m.point(c[0],c[1]),l||m.lineEnd(),S=!1)}g=t,d=i,y=l}return M}}var Z=n=>n,$=1/0,nn=$,tn=-$,rn=tn;var en={point:function(n,t){n<$&&($=n);n>tn&&(tn=n);t<nn&&(nn=t);t>rn&&(rn=t)},lineStart:m,lineEnd:m,polygonStart:m,polygonEnd:m,result:function(){var n=[[$,nn],[tn,rn]];return tn=rn=-(nn=$=1/0),n}};function on(n){return function(t){var i=new un;for(var r in n)i[r]=n[r];return i.stream=t,i}}function un(){}function ln(n,t,i){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),null!=r&&n.clipExtent(null),function(n,t){n&&M.hasOwnProperty(n.type)?M[n.type](n,t):x(n,t)}(i,n.stream(en)),t(en.result()),null!=r&&n.clipExtent(r),n}function fn(n,t,i){return ln(n,(function(i){var r=t[1][0]-t[0][0],e=t[1][1]-t[0][1],o=Math.min(r/(i[1][0]-i[0][0]),e/(i[1][1]-i[0][1])),u=+t[0][0]+(r-o*(i[1][0]+i[0][0]))/2,l=+t[0][1]+(e-o*(i[1][1]+i[0][1]))/2;n.scale(150*o).translate([u,l])}),i)}un.prototype={constructor:un,point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var an=s(30*f);function cn(n,t){return+t?function(n,t){function r(e,o,u,l,f,c,s,h,v,g,d,E,m,x){var M=s-e,k=h-o,w=M*M+k*k;if(w>4*t&&m--){var N=l+g,P=f+d,_=c+E,z=y(N*N+P*P+_*_),X=S(_/=z),Y=a(a(_)-1)<i||a(u-v)<i?(u+v)/2:p(P,N),b=n(Y,X),A=b[0],F=b[1],O=A-e,j=F-o,C=k*O-M*j;(C*C/w>t||a((M*O+k*j)/w-.5)>.3||l*g+f*d+c*E<an)&&(r(e,o,u,l,f,c,A,F,Y,N/=z,P/=z,_,m,x),x.point(A,F),r(A,F,Y,N,P,_,s,h,v,g,d,E,m,x))}}return function(t){var i,e,o,u,l,f,a,c,p,s,h,v,g={point:d,lineStart:y,lineEnd:S,polygonStart:function(){t.polygonStart(),g.lineStart=m},polygonEnd:function(){t.polygonEnd(),g.lineStart=y}};function d(i,r){i=n(i,r),t.point(i[0],i[1])}function y(){c=NaN,g.point=E,t.lineStart()}function E(i,e){var o=_([i,e]),u=n(i,e);r(c,p,a,s,h,v,c=u[0],p=u[1],a=i,s=o[0],h=o[1],v=o[2],16,t),t.point(c,p)}function S(){g.point=d,t.lineEnd()}function m(){y(),g.point=x,g.lineEnd=M}function x(n,t){E(i=n,t),e=c,o=p,u=s,l=h,f=v,g.point=E}function M(){r(c,p,a,s,h,v,e,o,i,u,l,f,16,t),g.lineEnd=S,S()}return g}}(n,t):function(n){return on({point:function(t,i){t=n(t,i),this.stream.point(t[0],t[1])}})}(n)}var pn=on({point:function(n,t){this.stream.point(n*f,t*f)}});function sn(n,t,i,r,e,o){if(!o)return function(n,t,i,r,e){function o(o,u){return[t+n*(o*=r),i-n*(u*=e)]}return o.invert=function(o,u){return[(o-t)/n*r,(i-u)/n*e]},o}(n,t,i,r,e);var u=s(o),l=g(o),f=u*n,a=l*n,c=u/n,p=l/n,h=(l*i-u*t)/n,v=(l*t+u*i)/n;function d(n,o){return[f*(n*=r)-a*(o*=e)+t,i-a*n-f*o]}return d.invert=function(n,t){return[r*(c*n-p*t+h),e*(v-p*n-c*t)]},d}function hn(n){return function(n){var t,i,r,e,o,u,a,c,p,s,h=150,v=480,g=250,d=0,E=0,S=0,m=0,x=0,M=0,k=1,w=1,N=null,P=T,_=null,z=Z,X=.5;function Y(n){return c(n[0]*f,n[1]*f)}function b(n){return(n=c.invert(n[0],n[1]))&&[n[0]*l,n[1]*l]}function A(){var n=sn(h,0,0,k,w,M).apply(null,t(d,E)),r=sn(h,v-n[0],g-n[1],k,w,M);return i=j(S,m,x),a=F(t,r),c=F(i,a),u=cn(a,X),O()}function O(){return p=s=null,Y}return Y.stream=function(n){return p&&s===n?p:p=pn(function(n){return on({point:function(t,i){var r=n(t,i);return this.stream.point(r[0],r[1])}})}(i)(P(u(z(s=n)))))},Y.preclip=function(n){return arguments.length?(P=n,N=void 0,O()):P},Y.postclip=function(n){return arguments.length?(z=n,_=r=e=o=null,O()):z},Y.clipAngle=function(n){return arguments.length?(P=+n?U(N=n*f):(N=null,T),O()):N*l},Y.clipExtent=function(n){return arguments.length?(z=null==n?(_=r=e=o=null,Z):V(_=+n[0][0],r=+n[0][1],e=+n[1][0],o=+n[1][1]),O()):null==_?null:[[_,r],[e,o]]},Y.scale=function(n){return arguments.length?(h=+n,A()):h},Y.translate=function(n){return arguments.length?(v=+n[0],g=+n[1],A()):[v,g]},Y.center=function(n){return arguments.length?(d=n[0]%360*f,E=n[1]%360*f,A()):[d*l,E*l]},Y.rotate=function(n){return arguments.length?(S=n[0]%360*f,m=n[1]%360*f,x=n.length>2?n[2]%360*f:0,A()):[S*l,m*l,x*l]},Y.angle=function(n){return arguments.length?(M=n%360*f,A()):M*l},Y.reflectX=function(n){return arguments.length?(k=n?-1:1,A()):k<0},Y.reflectY=function(n){return arguments.length?(w=n?-1:1,A()):w<0},Y.precision=function(n){return arguments.length?(u=cn(a,X=n*n),O()):y(X)},Y.fitExtent=function(n,t){return fn(Y,n,t)},Y.fitSize=function(n,t){return function(n,t,i){return fn(n,[[0,0],t],i)}(Y,n,t)},Y.fitWidth=function(n,t){return function(n,t,i){return ln(n,(function(i){var r=+t,e=r/(i[1][0]-i[0][0]),o=(r-e*(i[1][0]+i[0][0]))/2,u=-e*i[0][1];n.scale(150*e).translate([o,u])}),i)}(Y,n,t)},Y.fitHeight=function(n,t){return function(n,t,i){return ln(n,(function(i){var r=+t,e=r/(i[1][1]-i[0][1]),o=-e*i[0][0],u=(r-e*(i[1][1]+i[0][1]))/2;n.scale(150*e).translate([o,u])}),i)}(Y,n,t)},function(){return t=n.apply(this,arguments),Y.invert=t.invert&&b,A()}}((function(){return n}))()}function vn(n,t){return[n,v(E((e+t)/2))]}function gn(){return function(n){var t,i,e,o=hn(n),u=o.center,a=o.scale,c=o.translate,p=o.clipExtent,s=null;function h(){var u=r*a(),c=o(function(n){function t(t){return(t=n(t[0]*f,t[1]*f))[0]*=l,t[1]*=l,t}return n=j(n[0]*f,n[1]*f,n.length>2?n[2]*f:0),t.invert=function(t){return(t=n.invert(t[0]*f,t[1]*f))[0]*=l,t[1]*=l,t},t}(o.rotate()).invert([0,0]));return p(null==s?[[c[0]-u,c[1]-u],[c[0]+u,c[1]+u]]:n===vn?[[Math.max(c[0]-u,s),t],[Math.min(c[0]+u,i),e]]:[[s,Math.max(c[1]-u,t)],[i,Math.min(c[1]+u,e)]])}return o.scale=function(n){return arguments.length?(a(n),h()):a()},o.translate=function(n){return arguments.length?(c(n),h()):c()},o.center=function(n){return arguments.length?(u(n),h()):u()},o.clipExtent=function(n){return arguments.length?(null==n?s=t=i=e=null:(s=+n[0][0],t=+n[0][1],i=+n[1][0],e=+n[1][1]),h()):null==s?null:[[s,t],[i,e]]},h()}(vn).scale(961/u)}function dn(n,t,i){this.k=n,this.x=t,this.y=i}vn.invert=function(n,t){return[n,2*c(h(t))-e]},dn.prototype={constructor:dn,scale:function(n){return 1===n?this:new dn(this.k*n,this.x,this.y)},translate:function(n,t){return 0===n&0===t?this:new dn(this.k,this.x+this.k*n,this.y+this.k*t)},apply:function(n){return[n[0]*this.k+this.x,n[1]*this.k+this.y]},applyX:function(n){return n*this.k+this.x},applyY:function(n){return n*this.k+this.y},invert:function(n){return[(n[0]-this.x)/this.k,(n[1]-this.y)/this.k]},invertX:function(n){return(n-this.x)/this.k},invertY:function(n){return(n-this.y)/this.k},rescaleX:function(n){return n.copy().domain(n.range().map(this.invertX,this).map(n.invert,n))},rescaleY:function(n){return n.copy().domain(n.range().map(this.invertY,this).map(n.invert,n))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}},new dn(1,0,0),dn.prototype;export{gn as m};
